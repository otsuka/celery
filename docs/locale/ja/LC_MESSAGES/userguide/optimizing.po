#
msgid ""
msgstr ""
"Project-Id-Version: Celery 3.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2014-06-10 16:05+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../userguide/optimizing.rst:5
msgid "Optimizing"
msgstr "最適化"

#: ../../userguide/optimizing.rst:8
msgid "Introduction"
msgstr "イントロダクション"

#: ../../userguide/optimizing.rst:9
msgid ""
"The default configuration makes a lot of compromises.  It's not optimal for "
"any single case, but works well enough for most situations."
msgstr ""
"デフォルトの設定は、特定のケースには最適化されていないけれど、多くの環境において十分に機能するものとなっています。"

#: ../../userguide/optimizing.rst:12
msgid ""
"There are optimizations that can be applied based on specific use cases."
msgstr ""
"そのため具体的なユースケースの元で最適化を施す余地があります。"

#: ../../userguide/optimizing.rst:14
msgid ""
"Optimizations can apply to different properties of the running environment, "
"be it the time tasks take to execute, the amount of memory used, or "
"responsiveness at times of high load."
msgstr ""
"タスクの実行時間、メモリ使用量、高負荷時の応答時間など、実行環境の様々なプロパティに最適化を施すことができます。"

#: ../../userguide/optimizing.rst:19
msgid "Ensuring Operations"
msgstr ""

#: ../../userguide/optimizing.rst:21
msgid ""
"In the book `Programming Pearls`_, Jon Bentley presents the concept of back-"
"of-the-envelope calculations by asking the question;"
msgstr ""

#: ../../userguide/optimizing.rst:24
msgid "❝ How much water flows out of the Mississippi River in a day? ❞"
msgstr "❝ ミシシッピ川を流れる水は一日にどれくらいか？ ❞"

#: ../../userguide/optimizing.rst:26
msgid ""
"The point of this exercise [*]_ is to show that there is a limit to how much"
" data a system can process in a timely manner. Back of the envelope "
"calculations can be used as a means to plan for this ahead of time."
msgstr ""

#: ../../userguide/optimizing.rst:31
msgid ""
"In Celery; If a task takes 10 minutes to complete, and there are 10 new "
"tasks coming in every minute, the queue will never be empty.  This is why "
"it's very important that you monitor queue lengths!"
msgstr ""
"Celery に置き換えてみます。あるタスクの実行に10分掛かり、そのタスクが毎分10個入ってくるとしたら、"
"キューが空になることは決してありません。"
"だから、キューの長さを監視することはとても重要なのです。"

#: ../../userguide/optimizing.rst:36
msgid ""
"A way to do this is by :ref:`using Munin <monitoring-munin>`. You should set"
" up alerts, that will notify you as soon as any queue has reached an "
"unacceptable size.  This way you can take appropriate action like adding new"
" worker nodes, or revoking unnecessary tasks."
msgstr ""
"この監視の手段の一つが :ref:`Munin の使用 <monitoring-munin>` で、"
"キューが想定値を超えた時にアラートが発せられるようにセットしておきます。"
"そうすればアラート発生時に、新しいワーカーノードを追加する、不必要なタスクを削除するといった適切な対策を取れるようになります。"

#: ../../userguide/optimizing.rst:41
msgid ""
"The chapter is available to read for free here: `The back of the envelope`_."
"  The book is a classic text. Highly recommended."
msgstr ""
"この章は `The back of the envelope`_ で無料で読むことができます。"
"この本は古典に当たりますが、とてもお薦めです。"

#: ../../userguide/optimizing.rst:53
msgid "General Settings"
msgstr "全体の設定"

#: ../../userguide/optimizing.rst:58
msgid "librabbitmq"
msgstr ""

#: ../../userguide/optimizing.rst:60
msgid ""
"If you're using RabbitMQ (AMQP) as the broker then you can install the "
":mod:`librabbitmq` module to use an optimized client written in C:"
msgstr ""

#: ../../userguide/optimizing.rst:67
msgid ""
"The 'amqp' transport will automatically use the librabbitmq module if it's "
"installed, or you can also specify the transport you want directly by using "
"the ``pyamqp://`` or ``librabbitmq://`` prefixes."
msgstr ""

#: ../../userguide/optimizing.rst:74
msgid "Broker Connection Pools"
msgstr "ブローカーのコネクションプール"

#: ../../userguide/optimizing.rst:76
msgid "The broker connection pool is enabled by default since version 2.5."
msgstr "ブローカーのコネクションプールはバージョン 2.5 からデフォルトで有効になっています。"

#: ../../userguide/optimizing.rst:78
msgid ""
"You can tweak the :setting:`BROKER_POOL_LIMIT` setting to minimize "
"contention, and the value should be based on the number of active "
"threads/greenthreads using broker connections."
msgstr ""

#: ../../userguide/optimizing.rst:85
msgid "Using Transient Queues"
msgstr "非永続キューの使用"

#: ../../userguide/optimizing.rst:87
msgid ""
"Queues created by Celery are persistent by default.  This means that the "
"broker will write messages to disk to ensure that the tasks will be executed"
" even if the broker is restarted."
msgstr ""
"デフォルトでは Celey が生成するキューは永続化されます。"
"もしブローカーが再起動されてもタスクが実装されるように、ブローカーはメッセージをディスクに書き込みます。"

#: ../../userguide/optimizing.rst:91
msgid ""
"But in some cases it's fine that the message is lost, so not all tasks "
"require durability.  You can create a *transient* queue for these tasks to "
"improve performance:"
msgstr ""
"但しメッセージが失われても問題のないケースでは、すべてのタスクに対してこの永続性が必要になるわけではありません。"
"このようなタスクに対しては *非永続* キューを作成してパフォーマンスの向上を図ります:"

#: ../../userguide/optimizing.rst:106
msgid ""
"The ``delivery_mode`` changes how the messages to this queue are delivered. "
"A value of 1 means that the message will not be written to disk, and a value"
" of 2 (default) means that the message can be written to disk."
msgstr ""
"``delivery_mode`` パラメーターでメッセージのキューでの挙動を指定します。"
"値が 1 の時にはメッセージはディスクに書き込まれません。2 の時(デフォルト)にはディスクに書き込まれます。"

#: ../../userguide/optimizing.rst:110
msgid ""
"To direct a task to your new transient queue you can specify the queue "
"argument (or use the :setting:`CELERY_ROUTES` setting):"
msgstr ""
"作成した非永続キューにあるタスクを向けるには、queue 引数(または :setting:`CELERY_ROUTES` 設定)を使います。"

#: ../../userguide/optimizing.rst:117
msgid "For more information see the :ref:`routing guide <guide-routing>`."
msgstr "詳しくは :ref:`ルーティングガイド <guide-routing>` を参照してください。"

#: ../../userguide/optimizing.rst:122
msgid "Worker Settings"
msgstr ""

#: ../../userguide/optimizing.rst:127
msgid "Prefetch Limits"
msgstr ""

#: ../../userguide/optimizing.rst:129
msgid ""
"*Prefetch* is a term inherited from AMQP that is often misunderstood by "
"users."
msgstr ""

#: ../../userguide/optimizing.rst:132
msgid ""
"The prefetch limit is a **limit** for the number of tasks (messages) a "
"worker can reserve for itself.  If it is zero, the worker will keep "
"consuming messages, not respecting that there may be other available worker "
"nodes that may be able to process them sooner [*]_, or that the messages may"
" not even fit in memory."
msgstr ""

#: ../../userguide/optimizing.rst:138
msgid ""
"The workers' default prefetch count is the "
":setting:`CELERYD_PREFETCH_MULTIPLIER` setting multiplied by the number of "
"concurrency slots[*]_ (processes/threads/greenthreads)."
msgstr ""

#: ../../userguide/optimizing.rst:142
msgid ""
"If you have many tasks with a long duration you want the multiplier value to"
" be 1, which means it will only reserve one task per worker process at a "
"time."
msgstr ""

#: ../../userguide/optimizing.rst:146
msgid ""
"However -- If you have many short-running tasks, and throughput/round trip "
"latency is important to you, this number should be large. The worker is able"
" to process more tasks per second if the messages have already been "
"prefetched, and is available in memory.  You may have to experiment to find "
"the best value that works for you.  Values like 50 or 150 might make sense "
"in these circumstances. Say 64, or 128."
msgstr ""

#: ../../userguide/optimizing.rst:153
msgid ""
"If you have a combination of long- and short-running tasks, the best option "
"is to use two worker nodes that are configured separately, and route the "
"tasks according to the run-time. (see :ref:`guide-routing`)."
msgstr ""

#: ../../userguide/optimizing.rst:157
msgid ""
"RabbitMQ and other brokers deliver messages round-robin, so this doesn't "
"apply to an active system.  If there is no prefetch limit and you restart "
"the cluster, there will be timing delays between nodes starting. If there "
"are 3 offline nodes and one active node, all messages will be delivered to "
"the active node."
msgstr ""

#: ../../userguide/optimizing.rst:163
msgid ""
"This is the concurrency setting; :setting:`CELERYD_CONCURRENCY` or the "
":option:`-c` option to the :program:`celery worker` program."
msgstr ""

#: ../../userguide/optimizing.rst:168
msgid "Reserve one task at a time"
msgstr ""

#: ../../userguide/optimizing.rst:170
msgid ""
"When using early acknowledgement (default), a prefetch multiplier of 1 means"
" the worker will reserve at most one extra task for every active worker "
"process."
msgstr ""

#: ../../userguide/optimizing.rst:174
msgid ""
"When users ask if it's possible to disable \"prefetching of tasks\", often "
"what they really want is to have a worker only reserve as many tasks as "
"there are child processes."
msgstr ""

#: ../../userguide/optimizing.rst:178
msgid ""
"But this is not possible without enabling late acknowledgements "
"acknowledgements; A task that has been started, will be retried if the "
"worker crashes mid execution so the task must be `idempotent`_ (see also "
"notes at :ref:`faq-acks_late-vs-retry`)."
msgstr ""

#: ../../userguide/optimizing.rst:185
msgid ""
"You can enable this behavior by using the following configuration options:"
msgstr ""

#: ../../userguide/optimizing.rst:195
msgid "Prefork pool prefetch settings"
msgstr ""

#: ../../userguide/optimizing.rst:197
msgid ""
"The prefork pool will asynchronously send as many tasks to the processes as "
"it can and this means that the processes are, in effect, prefetching tasks."
msgstr ""

#: ../../userguide/optimizing.rst:201
msgid ""
"This benefits performance but it also means that tasks may be stuck waiting "
"for long running tasks to complete::"
msgstr ""

#: ../../userguide/optimizing.rst:214
msgid ""
"The worker will send tasks to the process as long as the pipe buffer is "
"writable.  The pipe buffer size varies based on the operating system: some "
"may have a buffer as small as 64kb but on recent Linux versions the buffer "
"size is 1MB (can only be changed system wide)."
msgstr ""

#: ../../userguide/optimizing.rst:219
msgid ""
"You can disable this prefetching behavior by enabling the :option:`-Ofair` "
"worker option:"
msgstr ""

#: ../../userguide/optimizing.rst:226
msgid ""
"With this option enabled the worker will only write to processes that are "
"available for work, disabling the prefetch behavior."
msgstr ""

